webshims.register("form-native-extend",function(e,t,n,i){"use strict";var r=n.Modernizr;if(r.inputtypes,r.formvalidation&&!t.bugs.bustedValidity){var a=t.inputTypes,o=!1,s={},u=function(){var t,n=function(){e(this).prop("validity")},i=function(){e("input").each(n)};return function(){clearTimeout(t),t=setTimeout(i,9)}}();t.addInputType=function(n,i){a[n]=i,o=!0,e.isDOMReady&&r.formvalidation&&!t.bugs.bustedValidity&&u()},t.addValidityRule=function(e,t){s[e]=t},t.addValidityRule("typeMismatch",function(e,t,n,i){if(""===t)return!1;var r=i.typeMismatch;return"type"in n||(n.type=(e[0].getAttribute("type")||"").toLowerCase()),a[n.type]&&a[n.type].mismatch&&(r=a[n.type].mismatch(t,e)),r});var l=t.modules["form-number-date-api"],c=l.loaded&&!l.test(),p=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],d=["value"],f=[],h=function(t){if(t||o){var n=(t.getAttribute&&t.getAttribute("type")||t.type||"").toLowerCase();a[n]&&e.prop(t,"validity")}},m={};if(["input","textarea","select"].forEach(function(n){var i=t.defineNodeNameProperty(n,"setCustomValidity",{prop:{value:function(r){r+="";var a="input"==n?e(this).getNativeElement()[0]:this;i.prop._supvalue.call(a,r),c&&(t.data(a,"hasCustomError",!!r),h(a))}}});m[n]=i.prop._supvalue}),c&&(d.push("min"),d.push("max"),d.push("step"),f.push("input")),c){var v;if(f.forEach(function(n){var i=t.defineNodeNameProperty(n,"validity",{prop:{get:function(){if(!v){var r="input"==n?e(this).getNativeElement()[0]:this,o=i.prop._supget.call(r);if(!o)return o;var u={};if(p.forEach(function(e){u[e]=o[e]}),!e.prop(r,"willValidate"))return u;v=!0;var l,c=e(r),d={type:(r.getAttribute&&r.getAttribute("type")||"").toLowerCase(),nodeName:(r.nodeName||"").toLowerCase()},f=c.val(),h=!!t.data(r,"hasCustomError");if(v=!1,u.customError=h,u.valid&&u.customError)u.valid=!1;else if(!u.valid){var g=!0;e.each(u,function(e,t){return t?(g=!1,!1):undefined}),g&&(u.valid=!0)}return e.each(s,function(e,i){u[e]=i(c,f,d,u),u[e]&&(u.valid||!l)&&a[d.type]&&a[d.type].mismatch&&(m[n].call(r,t.createValidationMessage(r,e)),u.valid=!1,l=!0)}),u.valid&&(m[n].call(r,""),t.data(r,"hasCustomError",!1)),u}},writeable:!1}})}),d.forEach(function(e){t.onNodeNamesPropertyModify(f,e,function(){h(this)})}),i.addEventListener){var g,y=function(e){"form"in e.target&&(clearTimeout(g),h(e.target))};i.addEventListener("change",y,!0),i.addEventListener("input",function(e){clearTimeout(g),g=setTimeout(function(){h(e.target)},290)},!0)}var b=f.join(",");t.addReady(function(t,n){o&&e(b,t).add(n.filter(b)).each(function(){h(this)})})}t.defineNodeNameProperty("input","type",{prop:{get:function(){var e=this,n=(e.getAttribute&&e.getAttribute("type")||"").toLowerCase();return t.inputTypes[n]?n:e.type}}})}});